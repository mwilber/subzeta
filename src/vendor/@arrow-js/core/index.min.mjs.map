{"version":3,"sources":["../src/index.ts"],"names":["delimiter","bookend","delimiterComment","bookendComment","dependencyCollector","Map","queueStack","Set","nextTicks","listeners","WeakMap","sanitize","str","replace","m","queue","fn","newValue","oldValue","size","setTimeout","executeQueue","Array","from","clear","ticks","forEach","add","nextTick","Promise","resolve","p","r","addDep","proxy","property","tracker","properties","get","set","isTpl","template","isT","isR","obj","$on","has","Object","prototype","hasOwnProperty","call","isReactiveFunction","createNodes","html","tpl","document","createElement","innerHTML","dom","content","cloneNode","normalize","childNodes","createPartial","group","Symbol","expressions","chunks","previousChunks","keyedChunks","partial","length","addPlaceholderChunk","assignDomChunks","fragment","reset","ch","l","key","localExpressions","_h","String","keyedChunk","chunk","exp","push","i","_up","e","callback","subPartial","startChunking","lastNode","createComment","closeSubPartial","frag","last","lastChild","transferChunks","index","prev","expression","node","nextSibling","next","removeNode","chunkIndex","toRemove","nodeType","data","defineProperty","value","remove","partialA","chunksB","t","strings","expSlots","addExpressions","observer","assign","args","obs","isArray","reduce","toString","strVal","undefined","el","_k","createDocumentFragment","item","nodeValue","Element","attrs","hasChildNodes","append","HTMLOptionElement","selected","defaultSelected","comment","parent","appendChild","hasAttributes","hasValueIDL","HTMLInputElement","HTMLSelectElement","HTMLTextAreaElement","total","attributes","attr","attrName","name","indexOf","shift","charAt","event","substring","addEventListener","_a","w","setAttribute","removeAttribute","listener","removeEventListener","n","createTextNode","setNode","Node","isUpdate","after","trackingId","currentDeps","queuedCallFn","callFn","newDeps","delete","propertiesToUnobserve","newProperties","prop","$off","reactiveMerge","reactiveTarget","reactiveSource","state","_st","o","callbacks","c","_p","arrayOperation","op","arr","native","synthetic","retVal","_em","map","arg","start","inserts","observers","observerProperties","children","proxySource","create","entry","dep","a","props","depProps","Proxy","[object Object]","Reflect","target","old","oldState","newR","_c","didSet","reactive","watch"],"mappings":"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"}